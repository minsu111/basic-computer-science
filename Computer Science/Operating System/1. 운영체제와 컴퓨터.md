# 운영체제와 컴퓨터

## 개요

운영체제와 컴퓨터 구성 요소에 대해 알아본다.

## 주요 개념

- 운영체제의 역할과 구조
- 컴퓨터의 요소

<br>

---

## 운영체제란

운영체제(OS, Operating System)는 컴퓨터 시스템의 자원들을 효율적으로 관리하여 사용자가 컴퓨터를 편리하고 효과적으로 사용할 수 있도록 환경을 제공해주는 인터페이스다.

- 사용자와 하드웨어 사이의 인터페이스를 제공해 효율적으로 응용 프로그램이 동작하도록 지원

- 시스템 자원을 효율적으로 관리하여 응용 프로그램이 원활하게 동작하도록 함

<img width="900" alt="image" src="https://github.com/minsu111/basic-computer-science/assets/124219344/45f623da-0bc3-4570-8dd3-1f7038e04fce">

<br>

운영체제의 종류에는 windows, macOS, Linux, UNIX 등이 있다.

<br>

---

## 운영체제의 역할

운영체제는 컴퓨터 하드웨어와 응용 프로그램 간의 상호작용을 관리하고 제어하는 역할을 한다.

### 1. CPU 스케줄링과 프로세서 관리

CPU 소유권을 어떤 프로세스에 할당할지, 프로세스의 생성과 삭제, 자원 할당 및 반환을 관리한다.

### 2. 메모리 관리

한정된 메모리를 어떤 프로세스에 얼만큼 할당할지 관리한다.

### 3. 디스크 파일 관리

디스크 파일을 어떠한 방법으로 보관할지 관리한다.

### 4. I/O 디바이스 관리

I/O 디바이스인 마우스, 키보드와 컴퓨터 간에 데이터를 주고받는 것을 관리한다.

<br>

---

## 운영체제의 구조

유저 프로그램(응용 프로그램, 유틸리티)이 맨 위에 있고, 그 다음으로 GUI(또는 CUI), 시스템콜, 커널, 드라이버가 있으며 가장 밑에 하드웨어가 있는 구조이다.

GUI, 시스템콜, 커널, 드라이버 부분이 운영체제에 해당한다.

### GUI와 CUI

- GUI(Graphical User Interface): 아이콘 등의 그래픽으로 표현하여 사용자들에게 보여준다.
- CUI(Character User Interface): CLI라고 부르기도 하며, 오직 텍스트로만 이루어진 창이다. (ex. CMD창)

### 시스템콜(System Call)

> 운영체제가 커널에 접근하기 위한 인터페이스로, 유저 프로그램이 운영체제의 서비스를 받기 위해 커널 함수를 호출할 때 쓴다.

<img width="400" alt="image" src="https://github.com/minsu111/basic-computer-science/assets/124219344/bafc52ac-3a1e-4966-a599-d8694ab20ca8">

<br>

OS는 다양한 서비스 들을 수행하기 위해 하드웨어를 직접적으로 관리하지만 유저 프로그램은 OS가 제공하는 인터페이스를 통해서만 자원을 사용할 수 있다. **OS가 제공하는 이러한 인터페이스를 시스템콜**이라고 한다.

### 유저 모드와 커널 모드

시스템이 작동될 때 CPU의 **modebit**을 참고해서 **유저 모드**와 **커널 모드**를 구분한다. 이는 실행 모드의 권한에 따라 접근할 수 있는 메모리와 실행 가능한 명령어를 제한함으로써 시스템을 보호하기 위해서이다.

<img width="800" alt="image" src="https://github.com/minsu111/basic-computer-science/assets/124219344/cc372a33-543a-4f66-978d-6b8d3c96b39b">

<br>

**유저 모드(User Mode) | Mode Bit = 1** <br>

**유저 프로그램이 실행되는 모드**이다. <br>

유저 모드에서는 접근할 수 있는 영역이 제한되어 하드웨어에 직접적으로 접근할 수 없다. 그렇기 때문에 작업 수행을 위해서는 **시스템콜**을 호출하여 유저 모드에서 커널 모드로 전환해야 한다.<br>
유저 프로그램이 I/O 요청으로 트랩을 발동하면 올바른 요청인지 확인 후 유저 모드가 시스템콜을 통해 커널 모드로 변환되어 실행된다.

**커널 모드(Kernel Mode) | Mode Bit = 0** <br>

**운영체제가 실행되는 모드**이다. <br>

커널 모드에서는 OS가 모든 하드웨어에 접근 및 제어가 가능하다. 유저 모드에서는 하드웨어에 직접 접근할 권한이 없기 때문에 하드웨어 접근이 필요할 때 모든 하드웨어를 제어하는 권한을 가지고 있는 운영체제의 커널모드로 전환되어야 한다. 시스템콜 호출 이후 커널 모드에서 로직 수행이 완료되면 다시 유저 모드로 되돌아간다.

<br>

---

## 컴퓨터의 요소

### CPU(Central Processing Unit)

CPU는 산술논리연산장치, 제어장치, 레지스터로 구성되어 있다.

- **제어장치(CU, Control Unit)**
  - 프로세스 조작을 지시하는 CPU의 한 부품.
  - 입출력장치 간 통신을 제어하고 명령어들을 읽고 해석하며 데이터 처리를 위한 순서를 결정한다.
- **레지스터(Register)**
  - CPU 안에 있는 임시기억장치. CPU는 자체적으로 데이터를 저장할 수 없기 때문에 레지스터를 거쳐 데이터를 전달한다.
  - 프로그램 속 명령어와 데이터는 실행 전후로 반드시 레지스터에 저장된다.
  - CPU와 직접 연결되어 있어 연산 속도가 메모리의 수백 배까지 빠르다.
- **산술논리연산장치(ALU, Arithmetic Logic Unit)**
  - CPU의 핵심 요소로서 다양한 산술 및 논리 연산을 처리하는 디지털 회로이다.
  - 덧셈, 뺄셈, 곱셈, 나눗셈 등 두 숫자의 산술 연산과 배타적 논리합, 논리곱 같은 논리 연산을 포함한다.<br>

**인터럽트(Interrupt)** <br>

CPU가 특정 기능을 수행하는 도중 CPU를 잠깐 정지시키고 다른 작업을 요청하는 것을 말한다.

인터럽트가 발생하면 **인터럽트 핸들러 함수**가 모여 있는 인터럽트 백터로 가서 인터럽트 우선순위에 따라 인터럽트 핸들러 함수가 실행된다.

  <br>

- **하드웨어 인터럽트**
  - 키보드 연결, 마우스 연결 등 IO 디바이스에서 발생하는 인터럽트를 말한다.
- **소프트웨어 인터럽트**

  - **트랩(trap)** 이라고도 하며 프로세스 오류 또는 예외 조건 등으로 프로세스가 시스템콜을 호출할 때 발동한다.

  <br>

### DMA 컨트롤러

**DMA(Direct Memory Access)** 컨트롤러는 IO 디바이스가 CPU의 개입 없이 시스템 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치이다.

CPU의 부하를 막고 데이터 전송의 효율성을 높이기 위해 존재한다. CPU가 데이터 전송을 관리하는 대신 DMA 컨트롤러가 이 역할을 담당하여 CPU가 다른 작업에 할당될 수 있게 한다.

  <br>

### 메모리(Memory)

메모리는 전자회로에서 데이터나 상태, 명령어 등을 기록하는 장치를 말하며, 보통 RAM(Random Access Memory)을 일컬어 메모리라고도 한다.

  <br>

### 타이머(Timer)

특정 프로그램에 시간 제한을 주는 역할을 한다.<br>
시간이 많이 걸리는 프로그램이 작동할 때 제한을 걸기 위해 존재한다.

  <br>

### 디바이스 컨트롤러(Device Controller)

컴퓨터와 연결되어 있는 IO 디바이스들의 작은 CPU를 말하며 옆에 붙어 있는 **로컬 버퍼**는 각 디바이스에서 데이터를 임시로 저장하기 위한 작은 메모리이다.

<br>

---

## 참고 자료

- https://www.techtarget.com/whatis/definition/operating-system-OS
- https://www.almabetter.com/bytes/articles/list-of-operating-system
- [https://velog.io/@oen/시스템콜-CPU-Protection-Rings-사용자모드-커널모드](https://velog.io/@oen/%EC%8B%9C%EC%8A%A4%ED%85%9C%EC%BD%9C-CPU-Protection-Rings-%EC%82%AC%EC%9A%A9%EC%9E%90%EB%AA%A8%EB%93%9C-%EC%BB%A4%EB%84%90%EB%AA%A8%EB%93%9C)
- [https://velog.io/@hustle-dev/시스템-구조와-프로그램-실행](https://velog.io/@hustle-dev/%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%EC%A1%B0%EC%99%80-%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%8B%A4%ED%96%89)
